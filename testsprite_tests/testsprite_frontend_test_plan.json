[
  {
    "id": "TC001",
    "title": "User Registration with Valid Data",
    "description": "Verify that a new user can register successfully with valid information and receives a confirmation",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the registration page"
      },
      {
        "type": "action",
        "description": "Fill in valid user details including username, email, and password"
      },
      {
        "type": "action",
        "description": "Submit the registration form"
      },
      {
        "type": "assertion",
        "description": "Check the user is successfully registered and redirected to login or dashboard page"
      }
    ]
  },
  {
    "id": "TC002",
    "title": "User Registration with Invalid Data",
    "description": "Verify registration fails with invalid input such as incomplete fields, invalid email, or weak password",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the registration page"
      },
      {
        "type": "action",
        "description": "Input invalid or incomplete registration details"
      },
      {
        "type": "action",
        "description": "Submit the registration form"
      },
      {
        "type": "assertion",
        "description": "Verify appropriate validation error messages are shown and registration is blocked"
      }
    ]
  },
  {
    "id": "TC003",
    "title": "User Login with Correct Credentials",
    "description": "Check that the user can login successfully using valid credentials and JWT authentication is issued",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page"
      },
      {
        "type": "action",
        "description": "Input valid username/email and password"
      },
      {
        "type": "action",
        "description": "Submit login form"
      },
      {
        "type": "assertion",
        "description": "Verify user is authenticated and JWT token is generated and stored"
      }
    ]
  },
  {
    "id": "TC004",
    "title": "User Login with Incorrect Credentials",
    "description": "Verify login fails with invalid username or password and appropriate error is displayed",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page"
      },
      {
        "type": "action",
        "description": "Input incorrect username/email or password"
      },
      {
        "type": "action",
        "description": "Attempt to login"
      },
      {
        "type": "assertion",
        "description": "Verify login is rejected and error message is displayed"
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Subscription Activation Flow",
    "description": "Verify user can select a subscription plan, complete payment process, and subscription is activated accordingly",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a registered user"
      },
      {
        "type": "action",
        "description": "Navigate to subscription plans page"
      },
      {
        "type": "action",
        "description": "Select a subscription plan"
      },
      {
        "type": "action",
        "description": "Complete payment using Vodafone Cash or Instapay options"
      },
      {
        "type": "assertion",
        "description": "Verify subscription status updates to active and user receives confirmation"
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Subscription Payment Failure Handling",
    "description": "Verify that payment failure is properly handled and user informed with retry options",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Begin subscription purchase"
      },
      {
        "type": "action",
        "description": "Simulate payment failure or cancellation"
      },
      {
        "type": "assertion",
        "description": "Verify user is notified of payment failure and subscription is not activated"
      },
      {
        "type": "assertion",
        "description": "Verify user can retry payment or cancel"
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Add Multiple WhatsApp Sessions with QR Code",
    "description": "Validate user can onboard multiple WhatsApp sessions by scanning QR codes and monitor their connection status",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login and navigate to WhatsApp sessions management"
      },
      {
        "type": "action",
        "description": "Create new WhatsApp session and generate QR code"
      },
      {
        "type": "action",
        "description": "Scan QR code with WhatsApp app"
      },
      {
        "type": "assertion",
        "description": "Verify session is connected and status is displayed correctly"
      }
    ]
  },
  {
    "id": "TC008",
    "title": "WhatsApp Session Connection Failure Handling",
    "description": "Verify that the system detects WhatsApp session disconnections and notifies the user appropriately",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Create a WhatsApp session and connect it"
      },
      {
        "type": "action",
        "description": "Simulate session disconnect or timeout"
      },
      {
        "type": "assertion",
        "description": "Verify user dashboard shows disconnected status and suggests reconnection"
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Configure Location and Verify Prayer Time Calculation",
    "description": "Check that user can set their location and prayer times are accurately calculated via the AlAdhan API",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login to user dashboard"
      },
      {
        "type": "action",
        "description": "Set location parameters (city, coordinates)"
      },
      {
        "type": "assertion",
        "description": "Verify prayer times are calculated correctly and displayed"
      }
    ]
  },
  {
    "id": "TC010",
    "title": "Customizable Prayer Reminder Timing",
    "description": "Verify users can customize advance notification times before prayer and reminders are sent accordingly",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Set custom notification time preferences in dashboard"
      },
      {
        "type": "assertion",
        "description": "Ensure reminders are sent at the customized times before prayer"
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Automated Fasting Day Reminders",
    "description": "Confirm fasting reminders are automatically sent on Mondays, Thursdays, and white days at 8 PM",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Check fasting reminder schedule in system setup"
      },
      {
        "type": "assertion",
        "description": "Verify fasting reminders are dispatched by scheduler exactly at 8 PM on correct days"
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Scheduled Adhkar and Hadith Content Delivery",
    "description": "Validate that adhkar and hadith messages are correctly scheduled and sent at morning, noon, and evening times",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Check current adhkar and hadith content schedules"
      },
      {
        "type": "assertion",
        "description": "Verify messages are sent on time per schedule via notification engine"
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Admin Adds, Edits and Deletes Islamic Content",
    "description": "Check admin dashboard allows managing Islamic content including adding, editing, and deleting adhkar and hadith entries",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as admin and access content management section"
      },
      {
        "type": "action",
        "description": "Add new content entry"
      },
      {
        "type": "assertion",
        "description": "Verify content is saved and appears in the library"
      },
      {
        "type": "action",
        "description": "Edit an existing content entry"
      },
      {
        "type": "assertion",
        "description": "Verify changes are saved and reflected"
      },
      {
        "type": "action",
        "description": "Delete a content entry"
      },
      {
        "type": "assertion",
        "description": "Verify content is removed from the library"
      }
    ]
  },
  {
    "id": "TC014",
    "title": "Multi-Recipient and Group Messaging Activation Control",
    "description": "Verify users can add multiple WhatsApp recipients and activate or deactivate message delivery per recipient or group",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Add multiple WhatsApp recipients in user dashboard"
      },
      {
        "type": "assertion",
        "description": "Verify recipients appear in list and can be toggled active/inactive"
      },
      {
        "type": "action",
        "description": "Send test group message"
      },
      {
        "type": "assertion",
        "description": "Verify only activated recipients receive messages"
      }
    ]
  },
  {
    "id": "TC015",
    "title": "Background Scheduler Service Reliability",
    "description": "Verify that the background scheduling engine using node-cron dispatches all notifications reliably and on time",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Monitor scheduled jobs for prayer, fasting, adhkar and hadith reminders"
      },
      {
        "type": "assertion",
        "description": "Confirm notifications are sent at expected cron scheduled times without failures"
      }
    ]
  },
  {
    "id": "TC016",
    "title": "System Health and Readiness Checks",
    "description": "Check health (/api/health), readiness (/api/ready), and stability endpoints respond correctly with expected statuses under normal and degraded conditions",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Request /api/health endpoint"
      },
      {
        "type": "assertion",
        "description": "Verify response indicates healthy system status"
      },
      {
        "type": "action",
        "description": "Request /api/ready endpoint"
      },
      {
        "type": "assertion",
        "description": "Verify readiness status confirms server is ready"
      },
      {
        "type": "action",
        "description": "Simulate resource issues or service downtime"
      },
      {
        "type": "assertion",
        "description": "Verify endpoints report degraded or not ready status accordingly"
      }
    ]
  },
  {
    "id": "TC017",
    "title": "Password Encryption and Security Verification",
    "description": "Verify that user passwords are encrypted using bcrypt and cannot be retrieved in plaintext from the database",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Register a new user with a known password"
      },
      {
        "type": "action",
        "description": "Query user password data in backend store"
      },
      {
        "type": "assertion",
        "description": "Verify stored password is hashed with bcrypt and plaintext password is not stored"
      }
    ]
  },
  {
    "id": "TC018",
    "title": "JWT Authentication and Authorization Validation",
    "description": "Confirm JWT tokens are issued on login, required for protected resources, and expire correctly",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login and obtain JWT token"
      },
      {
        "type": "action",
        "description": "Access protected endpoint with valid token"
      },
      {
        "type": "assertion",
        "description": "Verify access is granted"
      },
      {
        "type": "action",
        "description": "Access protected endpoint with expired or invalid token"
      },
      {
        "type": "assertion",
        "description": "Verify access is denied with appropriate error"
      }
    ]
  },
  {
    "id": "TC019",
    "title": "API Rate Limiting Enforcement",
    "description": "Verify that API rate limiting is enforced and excessive requests get blocked with proper response codes",
    "category": "security",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Send a high volume of requests to API endpoints within a short time"
      },
      {
        "type": "assertion",
        "description": "Verify API responds with rate limit exceeded errors (e.g., HTTP 429)"
      }
    ]
  },
  {
    "id": "TC020",
    "title": "CSRF Protection Validation",
    "description": "Ensure that forms and state-changing requests have valid CSRF tokens and invalid requests are rejected",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Submit a form or API request with a valid CSRF token"
      },
      {
        "type": "assertion",
        "description": "Verify request is processed successfully"
      },
      {
        "type": "action",
        "description": "Submit a form or API request without CSRF token or with invalid token"
      },
      {
        "type": "assertion",
        "description": "Verify request is rejected due to CSRF validation failure"
      }
    ]
  },
  {
    "id": "TC021",
    "title": "Audit Logging Completeness",
    "description": "Verify that all critical user and admin actions such as login, subscription changes, content edits, and notifications are logged appropriately",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Perform key actions including login, subscription update, content addition, and notification sending"
      },
      {
        "type": "assertion",
        "description": "Check audit logs contain records with correct user, action type, timestamp, and outcome"
      }
    ]
  }
]
