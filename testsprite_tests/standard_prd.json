{
  "meta": {
    "project": "Islamic Reminders WhatsApp SaaS Platform",
    "date": "2026-01-15",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "A comprehensive SaaS platform enabling automated Islamic reminders delivery via WhatsApp with subscription management, multi-session WhatsApp integration, and rich content scheduling including prayer and fasting reminders.",
  "core_goals": [
    "Enable users to send automated Islamic reminders through WhatsApp with personalized scheduling.",
    "Provide multi-tier subscription management and secure user authentication.",
    "Support multiple WhatsApp sessions per user with easy QR code onboarding.",
    "Deliver precise prayer and fasting reminders based on location and timing calculations.",
    "Maintain a rich library of Islamic content including adhkar and hadiths with flexible scheduling.",
    "Offer robust admin and user dashboards for managing subscriptions, content, and system settings.",
    "Ensure reliable system operation with health checks, audit logging, and notification scheduling."
  ],
  "key_features": [
    "User registration and secure login with JWT authentication.",
    "Flexible subscription plans with multiple payment options (Vodafone Cash, Instapay).",
    "WhatsApp session management including QR code onboarding and connection status monitoring.",
    "Automated prayer times reminders using AlAdhan API with customizable notification timing and location support.",
    "Fasting reminders for Mondays, Thursdays, and white days sent automatically at 8 PM.",
    "Scheduled adhkar and hadith content delivery at preset times (morning, noon, evening).",
    "Admin dashboard for managing users, subscriptions, content library, and audit logs.",
    "Multi-recipient support with activation control and group messaging capability.",
    "Background scheduling engine using node-cron for automated notification dispatch.",
    "Security features including bcrypt password encryption, helmet.js, CSRF protection, and rate limiting."
  ],
  "user_flow_summary": [
    "User visits landing page to learn about the platform and subscription options.",
    "New users register or existing users login using secure JWT-based authentication.",
    "Users access their dashboard to view subscription status and manage reminders.",
    "Users configure their location and WhatsApp sessions through dashboard settings.",
    "Users customize prayer times, fasting schedules, and content preferences.",
    "System runs background tasks to send scheduled Islamic reminders automatically.",
    "Admins manage users, subscriptions, content, and system settings via the admin dashboard.",
    "Users add and manage multiple WhatsApp recipients and monitor session connectivity."
  ],
  "validation_criteria": [
    "Successful user registration, login, and subscription activation workflows.",
    "Functional WhatsApp session creation with QR code generation and message sending.",
    "Accurate calculation and delivery of prayer times and fasting reminders based on location.",
    "Timely dispatch of adhkar and hadith notifications as per scheduled cron jobs.",
    "Admin capability to add, edit, and delete content and manage user subscriptions.",
    "System stability verified through health checks and error monitoring endpoints.",
    "Security measures verified including password encryption, JWT authentication, and API rate limiting."
  ],
  "code_summary": {
    "tech_stack": [
      "Node.js",
      "Express",
      "EJS templates",
      "SQLite (sqlite3)",
      "Jest",
      "Supertest",
      "Socket.IO",
      "Vanilla JS",
      "Bootstrap"
    ],
    "features": [
      {
        "name": "Landing Page & Marketing",
        "description": "Public home page describing the WhatsApp SaaS platform, features and pricing.",
        "files": [
          "src/views/landing.ejs",
          "public/css/style.css"
        ],
        "url": "/"
      },
      {
        "name": "User Authentication",
        "description": "User login and registration flows including JWT-based auth and session handling.",
        "files": [
          "src/views/login.ejs",
          "src/views/register.ejs",
          "src/routes/auth.js",
          "src/middleware/auth.js",
          "src/services/auth.js"
        ],
        "url": [
          "/login",
          "/register"
        ]
      },
      {
        "name": "User Dashboard",
        "description": "Main dashboard for regular users showing subscription status and quick actions.",
        "files": [
          "src/views/dashboard/user.ejs",
          "src/routes/admin.js"
        ],
        "url": "/dashboard"
      },
      {
        "name": "Admin Dashboard & Management",
        "description": "Admin dashboard for managing users, subscriptions, audit logs and advanced settings.",
        "files": [
          "src/views/dashboard/admin.ejs",
          "src/views/dashboard/settings.ejs",
          "src/routes/admin.js",
          "src/services/settings.js",
          "src/services/AuditService.js"
        ],
        "url": "/dashboard/admin"
      },
      {
        "name": "Islamic Reminders Management",
        "description": "UI and services to configure, schedule and deliver Islamic reminders via WhatsApp.",
        "files": [
          "src/views/dashboard/islamic-reminders.ejs",
          "src/routes/islamic-reminders.js",
          "src/services/IslamicRemindersService.js",
          "src/services/FastingService.js",
          "src/services/IslamicBackgroundService.js",
          "src/services/IslamicVideoService.js"
        ],
        "url": "/dashboard/islamic-reminders"
      },
      {
        "name": "Adhkar & Daily Content",
        "description": "Services and APIs for Adhkar content, hadiths and other Islamic materials.",
        "files": [
          "src/routes/adhkar.js",
          "src/routes/hadith.js",
          "src/services/AdhkarService.js",
          "src/services/HadithService.js",
          "src/services/ContentService.js",
          "src/services/ExternalContentService.js"
        ]
      },
      {
        "name": "Prayer Times & Calendar",
        "description": "Calculates prayer times, fasting information and related calendar logic.",
        "files": [
          "src/services/PrayerTimesService.js",
          "src/services/FastingService.js"
        ]
      },
      {
        "name": "Payment & Subscription Plans",
        "description": "Subscription plans, checkout flows and payment status handling.",
        "files": [
          "src/views/payment.ejs",
          "src/views/payment_pending.ejs",
          "src/views/payment_success.ejs",
          "src/routes/payment.js",
          "src/services/PaymentService.js",
          "src/services/plans.js"
        ],
        "url": "/payment"
      },
      {
        "name": "WhatsApp Messaging & Sessions",
        "description": "Session management, QR onboarding and sending WhatsApp messages to users.",
        "files": [
          "src/routes/whatsapp.js",
          "src/services/baileys/SessionManager.js",
          "src/services/baileys/MessageService.js",
          "src/services/NotificationService.js",
          "src/services/NotificationTemplates.js"
        ]
      },
      {
        "name": "Scheduling & Notification Engine",
        "description": "Background scheduler for reminders and audit-friendly notification delivery.",
        "files": [
          "src/services/SchedulerService.js",
          "src/services/NotificationService.js",
          "src/services/AuditService.js"
        ]
      },
      {
        "name": "Health Checks & Monitoring",
        "description": "Health and readiness endpoints plus server optimization and stability middleware.",
        "files": [
          "server.js",
          "health-check.js",
          "src/middleware/connectionStability.js",
          "src/services/ServerOptimizer.js"
        ],
        "url": [
          "/api/health",
          "/api/ready",
          "/health"
        ]
      }
    ]
  }
}
