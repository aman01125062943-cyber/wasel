{
  "meta": {
    "project": "Islamic Reminders WhatsApp SaaS Platform",
    "date": "2026-01-15",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "A comprehensive SaaS platform designed to send automated Islamic reminders via WhatsApp, featuring multi-tier subscription systems, WhatsApp session management, scheduled content delivery including prayer and fasting reminders, and a rich Islamic content library.",
  "core_goals": [
    "Provide automated Islamic reminders through WhatsApp including prayers and fasting schedules.",
    "Enable flexible user subscription management with secure authentication and payment integrations.",
    "Manage multiple WhatsApp sessions with easy QR code onboarding and message sending capabilities.",
    "Offer a customizable and schedulable library of Islamic content such as adhkar and hadiths.",
    "Empower administrators with dashboards to manage users, subscriptions, contents, and reminders.",
    "Ensure system reliability through health checks, monitoring, and robust security mechanisms."
  ],
  "key_features": [
    "Secure user authentication and flexible subscription plans including trial, monthly, and annual with payment via Vodafone Cash and Instapay.",
    "Multiple WhatsApp session management with QR code linking, connection monitoring, and test message sending.",
    "Accurate prayer time calculations using AlAdhan API with customizable notifications and support for multiple calculation methods and location settings (country, city, GPS).",
    "Automated fasting reminders for Mondays, Thursdays, and White Days (13,14,15 of Hijri month) sent daily at 8 PM.",
    "Comprehensive Islamic content library with morning and evening adhkar, daily hadiths, and admin content management with automated scheduling.",
    "Recipient management supporting multiple recipients, groups, activation toggles, and custom lists.",
    "Admin dashboards for managing users, subscriptions, content, and settings with audit logs.",
    "Background scheduler engine handling notification deliveries with audit capabilities.",
    "Payment and subscription status management with associated UI and workflows.",
    "Health checks and server optimization for stability and monitoring.",
    "Security features including bcrypt password hashing, JWT auth, Helmet.js middleware, rate limiting, CSRF and XSS protection, and SQL injection prevention."
  ],
  "user_flow_summary": [
    "Users register and securely log into the platform using JWT-based authentication.",
    "Users select and subscribe to plans with flexible payment options, monitored via subscription dashboards.",
    "Users add and manage their WhatsApp sessions via QR code scanning for quick onboarding and connection status monitoring.",
    "Users configure Islamic reminders by setting location (country/city or GPS), choosing prayer time calculation methods, and enabling fasting and adhkar schedules.",
    "Scheduled tasks automatically deliver adhkar, hadiths, prayer reminders, and fasting notifications to users' WhatsApp recipients daily at preset times.",
    "Administrators access dedicated dashboards to manage users, subscription plans, content library, and review audit logs.",
    "Admins add or modify Islamic content and reminders configuration via secured admin APIs and interfaces."
  ],
  "validation_criteria": [
    "Successful user registration, login, and secure session handling with JWT authentication.",
    "Accurate management and tracking of subscription statuses and payments.",
    "Correct linkage and monitoring of multiple WhatsApp sessions including QR onboarding.",
    "Reliable scheduling and delivery of prayer time reminders, fasting notifications, adhkar, and hadith messages.",
    "Admin interface allows CRUD operations on users, subscription plans, content library, and reminders settings.",
    "All scheduled notifications must be sent timely without failures, as monitored by audit logs.",
    "System resists common web security vulnerabilities including CSRF, XSS, and SQL injections.",
    "Health check endpoints respond correctly assuring server readiness and stability.",
    "Payments processed correctly with visible updates in subscription statuses.",
    "Multi-user recipient management works with activation and group sending functionalities."
  ],
  "code_summary": {
    "tech_stack": [
      "Node.js",
      "Express",
      "EJS templates",
      "SQLite (sqlite3)",
      "Jest",
      "Supertest",
      "Socket.IO",
      "Vanilla JS",
      "Bootstrap"
    ],
    "features": [
      {
        "name": "Landing Page & Marketing",
        "description": "Public home page describing the WhatsApp SaaS platform, features and pricing.",
        "files": [
          "src/views/landing.ejs",
          "public/css/style.css"
        ]
      },
      {
        "name": "User Authentication",
        "description": "User login and registration flows including JWT-based auth and session handling.",
        "files": [
          "src/views/login.ejs",
          "src/views/register.ejs",
          "src/routes/auth.js",
          "src/middleware/auth.js",
          "src/services/auth.js"
        ]
      },
      {
        "name": "User Dashboard",
        "description": "Main dashboard for regular users showing subscription status and quick actions.",
        "files": [
          "src/views/dashboard/user.ejs",
          "src/routes/admin.js"
        ]
      },
      {
        "name": "Admin Dashboard & Management",
        "description": "Admin dashboard for managing users, subscriptions, audit logs and advanced settings.",
        "files": [
          "src/views/dashboard/admin.ejs",
          "src/views/dashboard/settings.ejs",
          "src/routes/admin.js",
          "src/services/settings.js",
          "src/services/AuditService.js"
        ]
      },
      {
        "name": "Islamic Reminders Management",
        "description": "UI and services to configure, schedule and deliver Islamic reminders via WhatsApp.",
        "files": [
          "src/views/dashboard/islamic-reminders.ejs",
          "src/routes/islamic-reminders.js",
          "src/services/IslamicRemindersService.js",
          "src/services/FastingService.js",
          "src/services/IslamicBackgroundService.js",
          "src/services/IslamicVideoService.js"
        ]
      },
      {
        "name": "Adhkar & Daily Content",
        "description": "Services and APIs for Adhkar content, hadiths and other Islamic materials.",
        "files": [
          "src/routes/adhkar.js",
          "src/routes/hadith.js",
          "src/services/AdhkarService.js",
          "src/services/HadithService.js",
          "src/services/ContentService.js",
          "src/services/ExternalContentService.js"
        ]
      },
      {
        "name": "Prayer Times & Calendar",
        "description": "Calculates prayer times, fasting information and related calendar logic.",
        "files": [
          "src/services/PrayerTimesService.js",
          "src/services/FastingService.js"
        ]
      },
      {
        "name": "Payment & Subscription Plans",
        "description": "Subscription plans, checkout flows and payment status handling.",
        "files": [
          "src/views/payment.ejs",
          "src/views/payment_pending.ejs",
          "src/views/payment_success.ejs",
          "src/routes/payment.js",
          "src/services/PaymentService.js",
          "src/services/plans.js"
        ]
      },
      {
        "name": "WhatsApp Messaging & Sessions",
        "description": "Session management, QR onboarding and sending WhatsApp messages to users.",
        "files": [
          "src/routes/whatsapp.js",
          "src/services/baileys/SessionManager.js",
          "src/services/baileys/MessageService.js",
          "src/services/NotificationService.js",
          "src/services/NotificationTemplates.js"
        ]
      },
      {
        "name": "Scheduling & Notification Engine",
        "description": "Background scheduler for reminders and audit-friendly notification delivery.",
        "files": [
          "src/services/SchedulerService.js",
          "src/services/NotificationService.js",
          "src/services/AuditService.js"
        ]
      },
      {
        "name": "Health Checks & Monitoring",
        "description": "Health and readiness endpoints plus server optimization and stability middleware.",
        "files": [
          "server.js",
          "health-check.js",
          "src/middleware/connectionStability.js",
          "src/services/ServerOptimizer.js"
        ]
      }
    ]
  }
}
